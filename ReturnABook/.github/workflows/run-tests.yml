name: Run Java Tests

on:
 push:
   branches-ignore: []  
 pull_request:
   branches-ignore: []  

jobs:
 build:
   runs-on: ubuntu-latest

   steps:
     - name: Checkout repository
       uses: actions/checkout@v4
       with:
         fetch-depth: 0   

     - name: Set up Java
       uses: actions/setup-java@v4
       with:
         java-version: '17'
         distribution: 'temurin'

     - name: Compile all Java files
       run: |
         echo " Searching for Java files..."
         find $GITHUB_WORKSPACE -type f -name "*.java"
         javac -d out $(find $GITHUB_WORKSPACE -type f -name "*.java")

     - name: Run main class for testing
       run: |
         echo " Running LibraryApp..."
         java -cp out test.LibraryApp || true
